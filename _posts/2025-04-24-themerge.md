---
layout: single
title: "Ethereum: The Merge"
---

🧠 The Merge 전후 이더리움 해시 알고리즘 변화 총정리

The Merge란?

**The Merge**는 2022년 9월 15일, 이더리움이 기존의 **작업 증명(PoW)** 방식에서 **지분 증명(PoS)** 방식으로 전환된 역사적인 업그레이드입니다.

- 이전: Ethash 알고리즘 기반의 채굴 환경
- 이후: Staking 기반의 블록 생성(PoS)
- 주요 효과: 에너지 사용량 99.95% 감소, 채굴 중단

---

Merge 이전 – Ethash 환경

### 🔧 채굴 알고리즘: **Ethash**
- **용도**: 블록 생성, 작업 증명(PoW)용
- **특징**: 메모리 집약형, GPU 채굴에 유리
- **함께 사용된 해시 함수**: Keccak 기반 연산 포함 (단, 채굴 핵심은 Ethash)

### 💡 Keccak-256도 이미 사용 중
- **계정 주소 생성**
- **스마트 컨트랙트 내부 연산**
- **로그 필터링, 이벤트 처리 등**
- 채굴에는 직접 사용되지 않았지만, **이더리움의 내부 로직 전반에 쓰임**

---

Merge 이후 – PoS 환경

### 채굴 없음 → Ethash 종료
- 블록 생성은 채굴자(Miner)가 아닌, 검증자(Validator)가 수행
- 따라서 **Ethash는 완전히 사용되지 않게 됨**

### 남은 해시 함수: **Keccak-256**
- 이더리움은 여전히 **Keccak-256**을 다양한 기능에 사용 중
- 단, 이는 SHA-3 표준과는 다르며, **표준화 이전의 Keccak 버전**임

---

SHA-3와 Keccak-256 차이?

| 항목 | Keccak-256 | SHA3-256 |
|------|-------------|-----------|
| 설계 | 원본 설계 (2007~2012) | NIST가 표준화 후 약간 수정 (2015) |
| 패딩 방식 | Keccak padding | SHA-3 padding |
| 이더리움 사용 | ✅ 사용 | ❌ 사용하지 않음 |

> 이더리움의 `keccak256()`은 정확히 말하면 **SHA3-256이 아닌 Keccak-256**입니다.

---

| 시점 | 주요 해시 알고리즘 | 용도 |
|------|------------------|------|
| Merge 이전 | **Ethash + Keccak-256** | 채굴(PoW), 내부 연산 |
| Merge 이후 | **Keccak-256만** | 내부 연산 (PoS 환경에선 채굴 없음) |

---

> 참고
- SHA-3 표준화: NIST, 2015년 (FIPS PUB 202)
- The Merge 완료일: 2022년 9월 15일
- Merge 이후 첫 블록 번호: 15537393

